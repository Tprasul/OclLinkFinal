<!DOCTYPE html>
<html  >
<head>
  <!-- Site made with Mobirise Website Builder v6.0.1, https://mobirise.com -->
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="generator" content="Mobirise v6.0.1, mobirise.com">
  <meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1">
  <link rel="shortcut icon" href="assets/images/logo5.png" type="image/x-icon">
  <meta name="description" content="">
  
  
  <title>tableTP</title>
  <link rel="stylesheet" href="assets/bootstrap/css/bootstrap.min.css">
  <link rel="stylesheet" href="assets/bootstrap/css/bootstrap-grid.min.css">
  <link rel="stylesheet" href="assets/bootstrap/css/bootstrap-reboot.min.css">
  <link rel="stylesheet" href="assets/animatecss/animate.css">
  <link rel="stylesheet" href="assets/theme/css/style.css">
  <link rel="preload" href="https://fonts.googleapis.com/css?family=Inter+Tight:100,200,300,400,500,600,700,800,900,100i,200i,300i,400i,500i,600i,700i,800i,900i&display=swap" as="style" onload="this.onload=null;this.rel='stylesheet'">
  <noscript><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Inter+Tight:100,200,300,400,500,600,700,800,900,100i,200i,300i,400i,500i,600i,700i,800i,900i&display=swap"></noscript>
  <link rel="preload" as="style" href="assets/mobirise/css/mbr-additional.css?v=KW9p51"><link rel="stylesheet" href="assets/mobirise/css/mbr-additional.css?v=KW9p51" type="text/css">

  
  
  
</head>
<body>
  
  <meta charset="UTF-8" class="cid-uMkZg9xFqR" id="custom-html-3i" data-rv-view="465"><meta name="viewport" content="width=device-width, initial-scale=1.0" class="cid-uMkZg9xFqR" id="custom-html-3i" data-rv-view="465"><title class="cid-uMkZg9xFqR" id="custom-html-3i" data-rv-view="465">Обратная связь</title><style class="cid-uMkZg9xFqR" id="custom-html-3i" data-rv-view="465">
    /* Глобальные настройки для отзывчивого дизайна */
    *, *::before, *::after {
      box-sizing: border-box;
    }

    body {
      background-color: #f8f8f8;
      display: flex;
      flex-direction: column; /* Элементы в столбик, для центрирования */
      justify-content: center;
      align-items: center;
      min-height: 100vh;
      margin: 0;
      padding: 20px; /* Отступ по краям для адаптивности */
      font-family: sans-serif;
    }
    .form-container {
      max-width: 600px;
      width: 100%; /* Занимает всю доступную ширину до max-width */
      padding: 30px;
      border: 1px solid #ddd;
      border-radius: 12px;
      background-color: #FFE4E1; /* Светло-розовый */
      box-shadow: 0 8px 20px rgba(0,0,0,0.1);
    }
    .avatar-img {
      width: 150px;
      height: 150px;
      border-radius: 50%;
      object-fit: cover;
      margin: 0 auto 20px auto; /* Центрирование */
      display: block;
      border: 3px solid #d32f2f; /* Цвет как у кнопки */
      box-shadow: 0 0 15px rgba(0,0,0,0.15);
    }
    .form-title {
      font-size: 28px;
      font-weight: bold;
      text-align: center;
      margin-bottom: 30px;
      color: #333;
    }
    .question-frame { /* Рамка для вопросов и полей ввода */
      border: 1px solid #ffcccb; 
      border-radius: 8px;
      padding: 15px;
      margin-bottom: 25px; 
      background-color: #fffafa; 
      box-shadow: 0 2px 5px rgba(0,0,0,0.05);
    }
    .question-frame label { /* Стиль для текста вопроса/поля внутри рамки */
        margin-top: 0 !important; 
        margin-bottom: 12px !important; 
        display: block !important; 
        font-weight: bold !important; 
        color: #555 !important; 
        line-height: 1.4 !important; 
        word-wrap: break-word; 
        overflow-wrap: break-word; 
    }
    label { /* Сброс общих стилей label, чтобы они не влияли на элементы внутри рамок */
        font-weight: normal; 
        display: inline; 
        margin: 0; 
        padding: 0; 
        color: inherit;
        line-height: normal;
    }

    input[type="text"], textarea {
      width: 100%; 
      padding: 12px;
      border-radius: 8px;
      border: 1px solid #ccc;
      font-size: 16px;
      margin-bottom: 0; 
    }
    textarea {
      resize: vertical; 
      min-height: 80px;
    }
    .radio-group {
      display: flex; 
      flex-direction: column; /* Варианты в столбик по умолчанию */
      gap: 10px; 
      margin-bottom: 0; 
      flex-wrap: wrap; 
      justify-content: flex-start; 
    }
    .radio-option {
      display: flex;
      align-items: center;
      gap: 12px;
      cursor: pointer;
      padding: 10px;
      border-radius: 8px;
      background-color: transparent; 
      transition: background-color 0.2s ease;
      flex-shrink: 0; 
    }
    .radio-option:hover {
      background-color: #f0f0f0; 
    }
    .radio-option input[type="radio"] {
      display: none; 
    }
    .custom-radio {
      flex-shrink: 0; 
      width: 35px; 
      height: 35px;
      background-color: #eee;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      font-weight: bold;
      color: #333;
      border: 2px solid transparent;
      transition: 0.2s;
      font-size: 18px;
    }
    /* Цвет активной кнопки для Обратной связи */
    .radio-option input[type="radio"]:checked + .custom-radio {
      border-color: #d32f2f; /* Красный */
      background-color: #d32f2f; /* Красный */
      color: white;
      box-shadow: 0 0 10px rgba(211, 47, 47, 0.5); /* Соответствующая тень */
    }
    .submit-btn {
      margin-top: 40px;
      padding: 15px 25px;
      background-color: #d32f2f;
      color: white;
      font-size: 18px;
      font-weight: bold;
      border: none;
      border-radius: 10px;
      cursor: pointer;
      width: 100%;
      transition: background-color 0.3s ease, transform 0.2s ease;
      box-shadow: 0 4px 10px rgba(0,0,0,0.3);
    }
    .submit-btn:hover:not(:disabled) {
      background-color: #b71c1c;
      transform: translateY(-2px);
    }
    .submit-btn:disabled {
      background-color: #ff7f7f; 
      cursor: not-allowed;
      box-shadow: none;
    }
    /* Стиль для секционных заголовков */
    .section-title {
        background: #d32f2f; /* Красный фон */
        color: white;
        padding: 10px;
        margin-top: 30px;
        margin-bottom: 20px; /* Добавил отступ снизу */
        border-radius: 8px;
        font-weight: bold;
        text-align: center;
    }

    /* Медиа-запросы для адаптации под мобильные */
    @media (max-width: 768px) {
        body { padding: 15px; }
        .form-container { padding: 20px; }
        .form-title { font-size: 24px; margin-bottom: 20px; }
        .question-frame { padding: 10px; margin-bottom: 20px; }
        .question-frame label { font-size: 15px; }
        input[type="text"], textarea { 
            font-size: 15px;
            padding: 10px;
        }
        .radio-group {
            flex-direction: column; /* Варианты в столбик на мобильных */
            gap: 8px; 
        }
        .radio-option {
            padding: 8px;
        }
        .custom-radio {
            width: 30px; 
            height: 30px;
            font-size: 16px;
        }
        .submit-btn {
            font-size: 16px;
            padding: 12px 20px;
            margin-top: 30px;
        }
    }

    @media (max-width: 480px) { /* Дополнительная адаптация для очень маленьких экранов */
        body { padding: 10px; }
        .form-container { padding: 15px; }
        .form-title { font-size: 22px; margin-bottom: 15px; }
        .avatar-img { width: 120px; height: 120px; }
        .question-frame { margin-bottom: 15px; }
    }
  </style><script src="https://cdn.jsdelivr.net/npm/sweetalert2@11" class="cid-uMkZg9xFqR" id="custom-html-3i" data-rv-view="465"></script><div class="form-container cid-uMkZg9xFqR" id="custom-html-3i" data-rv-view="465">
    <img src="https://i.imgur.com/SxzkAWe.jpeg" alt="Логотип" class="avatar-img" media-simple="true">
    <div class="form-title">Обратная связь</div>
    <form id="feedbackForm">
      <!-- Скрытое поле для идентификации опроса -->
      <input type="hidden" name="surveyId" value="feedback_survey"> 

      <div class="question-frame">
        <label for="tvHost">Кто провел Table visit?</label>
        <input type="text" id="tvHost" name="tvHost" required="" placeholder="Ваше имя…">
      </div>

      <!-- 1. Какое ваше первое впечатление о нашем ресторане? -->
      <div class="question-frame">
        <label>1. Какое ваше первое впечатление о нашем ресторане?</label>
        <div class="radio-group">
          <label class="radio-option"><input type="radio" name="q1_first_impression" value="Все очень чисто, мне все нравится" required=""><div class="custom-radio">1</div>Все очень чисто, мне все нравится</label>
          <label class="radio-option"><input type="radio" name="q1_first_impression" value="Столы были не убраны, в целом не так все плохо как могло быть"><div class="custom-radio">2</div>Столы были не убраны, в целом не так все плохо как могло быть</label>
          <label class="radio-option"><input type="radio" name="q1_first_impression" value="Все очень плохо, больше сюда не приду"><div class="custom-radio">3</div>Все очень плохо, больше сюда не приду</label>
        </div>
      </div>
      
      <!-- 2. Как вы оцените сервис и работу персонала? -->
      <div class="question-frame">
        <label>2. Как вы оцените сервис и работу персонала?</label>
        <div class="radio-group">
          <label class="radio-option"><input type="radio" name="q2_service_staff" value="Приветливы, дружелюбны, внимательны и отзывчивы" required=""><div class="custom-radio">1</div>Приветливы, дружелюбны, внимательны и отзывчивы</label>
          <label class="radio-option"><input type="radio" name="q2_service_staff" value="Ничего примечательного"><div class="custom-radio">2</div>Ничего примечательного</label>
          <label class="radio-option"><input type="radio" name="q2_service_staff" value="Сервис не понравился!"><div class="custom-radio">3</div>Сервис не понравился!</label>
        </div>
      </div>
      
      <!-- 3. Как вы оцените скорость обслуживания? Были ли у вас какие-либо трудности? -->
      <div class="question-frame">
        <label>3. Как вы оцените скорость обслуживания? Были ли у вас какие-либо трудности?</label>
        <div class="radio-group">
          <label class="radio-option"><input type="radio" name="q3_service_speed" value="Очень быстро" required=""><div class="custom-radio">1</div>Очень быстро</label>
          <label class="radio-option"><input type="radio" name="q3_service_speed" value="Нормально"><div class="custom-radio">2</div>Нормально</label>
          <label class="radio-option"><input type="radio" name="q3_service_speed" value="Медленно"><div class="custom-radio">3</div>Медленно</label>
        </div>
      </div>
      
      <!-- 4. Правильно ли собрали ваш заказ? -->
      <div class="question-frame">
        <label>4. Правильно ли собрали ваш заказ?</label>
        <div class="radio-group">
          <label class="radio-option"><input type="radio" name="q4_order_accuracy" value="Все верно собрали" required=""><div class="custom-radio">1</div>Все верно собрали</label>
          <label class="radio-option"><input type="radio" name="q4_order_accuracy" value="Все собрали и даже дали дополнительное блюдо"><div class="custom-radio">2</div>Все собрали и даже дали дополнительное блюдо</label>
          <label class="radio-option"><input type="radio" name="q4_order_accuracy" value="Недоложили (продукт, кондименты или салфетки)"><div class="custom-radio">3</div>Недоложили (продукт, кондименты или салфетки)</label>
        </div>
      </div>
      
      <!-- 5. Понравились ли вам блюда, которые вы у нас заказали? -->
      <div class="question-frame">
        <label>5. Понравились ли вам блюда, которые вы у нас заказали?</label>
        <div class="radio-group">
          <label class="radio-option"><input type="radio" name="q5_dish_satisfaction" value="Да, все вкусно" required=""><div class="custom-radio">1</div>Да, все вкусно</label>
          <label class="radio-option"><input type="radio" name="q5_dish_satisfaction" value="Ничего особенного"><div class="custom-radio">2</div>Ничего особенного</label>
          <label class="radio-option"><input type="radio" name="q5_dish_satisfaction" value="Нет! Не понравилось"><div class="custom-radio">3</div>Нет! Не понравилось</label>
        </div>
      </div>
      
      <!-- Поле для комментария -->
      <div class="question-frame">
        <label for="comment">Комментарий:</label>
        <textarea id="comment" name="comment" rows="3" placeholder="Ваш комментарий…"></textarea>
      </div>
      
      <button type="submit" class="submit-btn">Отправить отзыв</button>
    </form>
  </div><script class="cid-uMkZg9xFqR" id="custom-html-3i" data-rv-view="465">
    document.getElementById('feedbackForm').addEventListener('submit', async function(event) {
      event.preventDefault(); // Предотвращаем стандартную отправку формы

      const btn = document.querySelector(".submit-btn");
      if (btn.disabled) return; 

      btn.disabled = true;
      btn.textContent = "Отправка данных...";

      try {
        const form = event.target;
        const surveyId = form.surveyId.value; 
        const tvHost = form.tvHost.value.trim();
        const comment = form.comment.value.trim();
        
        // --- Собираем данные для отправки ---
        const formDataToSend = new FormData();
        formDataToSend.append("surveyId", surveyId); 
        formDataToSend.append("Table visit провел", tvHost);
        formDataToSend.append("Комментарий", comment); 
        formDataToSend.append("Время отправки", new Date().toLocaleString('ru-RU')); 

        // Собираем ответы на вопросы
        const questionNames = [
          "q1_first_impression", "q2_service_staff", "q3_service_speed", 
          "q4_order_accuracy", "q5_dish_satisfaction"
        ];

        questionNames.forEach(qName => {
            const selectedValue = document.querySelector(`input[name="${qName}"]:checked`)?.value || "";
            formDataToSend.append(qName, selectedValue);
        });
        
        // --- URL вашего Apps Script для опроса "Обратная связь" ---
        // !!! ОБЯЗАТЕЛЬНО ЗАМЕНИТЕ ЭТОТ URL НА URL ВАШЕГО РАЗВЕРНУТОГО APPS SCRIPT ДЛЯ ОПРОСА "ОБРАТНАЯ СВЯЗЬ" !!!
        const appsScriptUrl = 'https://script.google.com/macros/s/AKfycbw6liWrMWZ01EeXksCZH1gDjDq_swowDUa1_UPaEBGqtgkitQ94WoPFVLpGb6t5gM7eHA/exec'; 

        // --- Отправка данных ---
        const response = await fetch(appsScriptUrl, {
          method: "POST",
          body: formDataToSend 
        });

        const result = await response.json(); 

        if (response.ok && result.status === 'success') {
          Swal.fire({
            title: "Спасибо за отзыв!", 
            html: `<b>Table visit провел:</b> ${tvHost}<br><b>Комментарий:</b><br>${comment || "—"}`,
            icon: 'success',
            confirmButtonText: 'OK',
            confirmButtonColor: '#d32f2f' 
          });
          form.reset(); 
        } else {
          console.error("Error sending to Apps Script:", result);
          Swal.fire({
            title: "Ошибка",
            text: `Не удалось отправить данные: ${result.message || 'Неизвестная ошибка.'}`,
            icon: 'error',
            confirmButtonText: 'OK',
            confirmButtonColor: '#d32f2f'
          });
        }
      } catch (error) {
        console.error("Общая ошибка:", error);
        Swal.fire({
          title: "Ошибка",
          text: "Произошла непредвиденная ошибка. Проверьте консоль.",
          icon: 'error',
          confirmButtonText: 'OK',
          confirmButtonColor: '#d32f2f'
        });
      } finally {
        btn.disabled = false;
        btn.textContent = "Отправить отзыв";
      }
    });
  </script>

<style class="cid-uMkZgqHW6i" id="custom-html-3j" data-rv-view="466">
  .report-button {
    display: inline-block;
    background-color: #f44336;
    color: #fff;
    padding: 15px 30px;
    font-size: 18px;
    font-weight: bold;
    border-radius: 12px;
    text-decoration: none;
    box-shadow: 0 8px 16px rgba(0,0,0,0.2);
    transition: background-color 0.3s, transform 0.2s;
  }

  .report-button:hover {
    background-color: #d32f2f;
    transform: translateY(-3px);
  }
</style><div style="text-align:center; margin: 40px 0;" class="cid-uMkZgqHW6i" id="custom-html-3j" data-rv-view="466">
  <a href="https://docs.google.com/spreadsheets/d/1Biymnelrf4JSc1qv-IkmEDP3RFIDEhZpyi7gRdJLV1s/edit?usp=sharing" target="_blank" class="report-button">
    📊 Открыть отчёты
  </a>
</div><section class="display-7" style="padding: 0;align-items: center;justify-content: center;flex-wrap: wrap;    align-content: center;display: flex;position: relative;height: 4rem;"><a href="https://mobiri.se/3981373" style="flex: 1 1;height: 4rem;position: absolute;width: 100%;z-index: 1;"><img alt="" style="height: 4rem;" src="data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw=="></a><p style="margin: 0;text-align: center;" class="display-7">&#8204;</p><a style="z-index:1" href="https://mobirise.com/drag-drop-website-builder.html">Drag and Drop Website Builder</a></section><script src="assets/bootstrap/js/bootstrap.bundle.min.js"></script>  <script src="assets/smoothscroll/smooth-scroll.js"></script>  <script src="assets/ytplayer/index.js"></script>  <script src="assets/theme/js/script.js"></script>  
  
  
  <input name="animation" type="hidden">
  </body>
</html>